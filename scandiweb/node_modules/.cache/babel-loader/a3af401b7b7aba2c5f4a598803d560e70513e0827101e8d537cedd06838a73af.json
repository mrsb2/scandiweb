{"ast":null,"code":"import _toConsumableArray from\"E:/F/Scandiweb-project-junior/scandiweb/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"E:/F/Scandiweb-project-junior/scandiweb/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/F/Scandiweb-project-junior/scandiweb/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/F/Scandiweb-project-junior/scandiweb/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import axios from'axios';import'./productpage.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProductPage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),checkedIds=_useState2[0],setCheckedIds=_useState2[1];var deleteProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(productIds){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post('http://php.mrsomebody.space/delProducts',{productIds:productIds});case 3:response=_context.sent;window.location.reload();console.log(response);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function deleteProducts(_x){return _ref.apply(this,arguments);};}();function handleCheckboxChange(event,product){var checked=event.target.checked;if(checked){setCheckedIds(function(prevState){return[].concat(_toConsumableArray(prevState),[product.id]);});}else{setCheckedIds(function(prevState){return prevState.filter(function(id){return id!==product.id;});});}}function handleDelete(){deleteProducts(checkedIds);}var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),products=_useState4[0],setProducts=_useState4[1];useEffect(function(){axios.get('http://php.mrsomebody.space/getProducts').then(function(response){setProducts(response.data);console.log(response);}).catch(function(error){console.log(error);});},[]);//console.log(products);\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"headerProductList\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ProductList\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Product List\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttonsContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"buttons\",children:/*#__PURE__*/_jsx(Link,{to:\"/add-product\",id:\"add-product-btn\",children:/*#__PURE__*/_jsx(\"p\",{className:\"buttonsName\",children:\"ADD\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"buttons\",children:/*#__PURE__*/_jsx(\"button\",{id:\"delete-product-btn\",onClick:handleDelete,children:/*#__PURE__*/_jsx(\"p\",{children:\"MASS DELETE\"})})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"containerProducts\",children:Array.isArray(products)?products.map(function(product){return/*#__PURE__*/_jsx(\"div\",{className:\"containerProduct\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"containerProduct2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"checkboxDiv\",children:/*#__PURE__*/_jsx(\"input\",{className:\"delete-checkbox\",type:\"checkbox\",onChange:function onChange(event){return handleCheckboxChange(event,product);}})}),/*#__PURE__*/_jsxs(\"p\",{className:\"sku\",children:[\"Sku: \",product.sku]}),/*#__PURE__*/_jsxs(\"p\",{className:\"name\",children:[\"Name:\",product.name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"price\",children:[\"Price: \",product.price,\"$\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"attributes\",children:[product.attribute_type,\": \",product.attribute_value]})]})},product.id);}):/*#__PURE__*/_jsx(\"p\",{children:\"No products found.\"})})]});}export default ProductPage;","map":{"version":3,"names":["React","useState","useEffect","Link","axios","jsx","_jsx","jsxs","_jsxs","ProductPage","_useState","_useState2","_slicedToArray","checkedIds","setCheckedIds","deleteProducts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","productIds","response","wrap","_callee$","_context","prev","next","post","sent","window","location","reload","console","log","t0","error","stop","_x","apply","arguments","handleCheckboxChange","event","product","checked","target","prevState","concat","_toConsumableArray","id","filter","handleDelete","_useState3","_useState4","products","setProducts","get","then","data","catch","className","children","to","onClick","Array","isArray","map","type","onChange","sku","name","price","attribute_type","attribute_value"],"sources":["E:/F/Scandiweb-project-junior/scandiweb/src/page/productPage/productPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {  Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './productpage.css';\r\n\r\n\r\n\r\n\r\nfunction ProductPage() {\r\n    \r\n    const [checkedIds, setCheckedIds] = useState([]);\r\n    const deleteProducts = async (productIds) => {\r\n    \r\n        try {\r\n        const response = await axios.post('http://php.mrsomebody.space/delProducts', { productIds });\r\n        window.location.reload();\r\n        console.log(response);\r\n        } catch (error) {\r\n        console.error(error);\r\n        }\r\n    };\r\n\r\n\r\n\r\n    function handleCheckboxChange(event, product) {\r\n        const { checked } = event.target;\r\n\r\n        if (checked) {\r\n        setCheckedIds((prevState) => [...prevState, product.id]);\r\n        } else {\r\n        setCheckedIds((prevState) =>\r\n            prevState.filter((id) => id !== product.id)\r\n        );\r\n        }\r\n    }\r\n\r\n    function handleDelete() {\r\n        deleteProducts(checkedIds)\r\n        \r\n    }\r\n\r\n    const [products, setProducts] = useState([]);\r\n    useEffect(() => {\r\n        axios.get('http://php.mrsomebody.space/getProducts')\r\n        .then(response => {\r\n            setProducts(response.data);\r\n            console.log(response);\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n    }, []);\r\n    //console.log(products);\r\n    return (\r\n    <div className='container'>\r\n        <div className='headerProductList'>\r\n            <div className='ProductList'>\r\n                <h2>Product List</h2>\r\n            </div>\r\n            \r\n            <div className='buttonsContainer'>\r\n                <div className='buttons'>\r\n                    <Link to='/add-product'  id='add-product-btn'>\r\n                        <p className='buttonsName'>ADD</p>\r\n                    </Link>\r\n                </div>\r\n                <div className='buttons'>\r\n                    <button id='delete-product-btn' onClick={handleDelete}>\r\n                        <p>MASS DELETE</p>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        {/* ------------------------------------------------------------------------------------- */}\r\n        <div className='containerProducts'>\r\n            {Array.isArray(products) ? (\r\n                products.map(product => (\r\n                    <div key={product.id} className='containerProduct'>\r\n                        <div  className='containerProduct2'>\r\n                            <div className='checkboxDiv'>\r\n                                <input className='delete-checkbox' type=\"checkbox\" onChange={(event) => handleCheckboxChange(event, product)} />\r\n                            </div>\r\n                            <p className='sku'>Sku: {product.sku}</p>\r\n                            <p className='name'>Name:{product.name}</p>\r\n                            <p className='price'>Price: {product.price}$</p>\r\n                            <p className='attributes'>{product.attribute_type}: {product.attribute_value}</p>\r\n                        </div>\r\n                    </div>\r\n                ))\r\n            ) : (\r\n                <p>No products found.</p>\r\n            )}\r\n        </div>\r\n\r\n    </div>\r\n            \r\n    )\r\n}\r\n\r\nexport default ProductPage;\r\n\r\n\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}